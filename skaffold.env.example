# ===================================
# EASM Application Environment Variables
# ===================================
# Single environment file for both Skaffold and Docker Compose

# Django Settings
DEBUG=True
SECRET_KEY=django-insecure-change-this-to-a-random-secret-key-for-production
# Note: Commas are handled automatically by deployment scripts via generated values file
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0,*

# Database Configuration
POSTGRES_DB=easm_db
POSTGRES_USER=easm_user
POSTGRES_PASSWORD=easm_password
POSTGRES_HOST=postgresql
POSTGRES_PORT=5432

# Redis Configuration
REDIS_HOST=redis-master
REDIS_PORT=6379
REDIS_DB=0

# MongoDB Configuration
MONGODB_HOST=mongodb
MONGODB_PORT=27017
MONGODB_DB=easm_mongo


# Exposed Ports Configuration (External/Local Ports Only)
# These are the ports you use to access services from your machine
# Internal container ports remain at their defaults (8000, 5432, 6379)
API_LOCAL_PORT=8000
POSTGRES_LOCAL_PORT=5432
REDIS_LOCAL_PORT=6379
MONGO_LOCAL_PORT=27017

# JWT Settings (in minutes)
JWT_ACCESS_TOKEN_LIFETIME=60
JWT_REFRESH_TOKEN_LIFETIME=1440

# Application Version
API_APP_VERSION=0.1.0

# Docker Image Configuration
API_IMAGE=easm-api
API_IMAGE_TAG=latest

# Kubernetes/Skaffold specific settings
K8S_NAMESPACE=easm-rnd
K8S_REPLICA_COUNT=1

# Bitnami Chart Versions (for Skaffold)
POSTGRESQL_CHART_VERSION=18.1.1
REDIS_CHART_VERSION=23.2.1
BITNAMI_REPO_URL=https://charts.bitnami.com/bitnami

# Gunicorn Configuration (for Docker Compose)
GUNICORN_WORKERS=4

# ===================================
# Instructions:
# ===================================
# This is the SINGLE environment file used by both:
# - Skaffold (for Kubernetes deployments)
# - Docker Compose (for local development)
#
# 1. Copy this file: cp skaffold.env.example skaffold.env (or copy on Windows)
# 2. Update values in skaffold.env for your environment
# 3. For production, change SECRET_KEY and POSTGRES_PASSWORD
# 4. Set appropriate values for POSTGRES_HOST and REDIS_HOST:
#    - For Docker Compose: use POSTGRES_HOST=postgres, REDIS_HOST=redis
#    - For Kubernetes: use POSTGRES_HOST=postgresql, REDIS_HOST=redis-master
#    - For local development: use POSTGRES_HOST=localhost, REDIS_HOST=localhost
# 5. ALLOWED_HOSTS: For Skaffold/Helm, escape commas with backslash (e.g., localhost\,127.0.0.1\,0.0.0.0\,*)
#    For Docker Compose only, commas can be unescaped (e.g., localhost,127.0.0.1,0.0.0.0,*)
#
# Note: This file is used by skaffold.yaml's envTemplate configuration
